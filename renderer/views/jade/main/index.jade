div#main-block(ng-cloak)
  #map.row
    openlayers(ol-center="center" ol-defaults="defaults" height="564px" ng-if="weatherLoaded")
      ol-layer(name="{{layer.name}}", ol-layer-properties="layer", ng-repeat="layer in layers | filter: { active :true }")

  div(ng-if="weatherLoaded")
    .row.weather-search-box
      .col-sm-4(ng-include="'main/search_box.html'")
    .row(ng-show='hasErrorMessage()')
      .col-sm-4
        div.alert.alert-danger
          p {{errorMessage}}
    .row.weather-details(ng-hide='hasErrorMessage()')
      .col-sm-4(ng-include="'main/weather_details.html'")
